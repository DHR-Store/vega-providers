"use strict";var __awaiter=this&&this.__awaiter||function(t,e,a,i){return new(a||(a=Promise))(function(o,n){function r(t){try{l(i.next(t))}catch(t){n(t)}}function s(t){try{l(i.throw(t))}catch(t){n(t)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(r,s)}l((i=i.apply(t,e||[])).next())})},__importDefault=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.gofileExtracter=gofileExtracter;const axios_1=__importDefault(require("axios"));function gofileExtracter(t){return __awaiter(this,void 0,void 0,function*(){try{yield axios_1.default.get("https://gofile.io/d/"+t);const e=(yield axios_1.default.post("https://api.gofile.io/accounts")).data.data.token,a=(yield axios_1.default.get("https://gofile.io/dist/js/global.js")).data.match(/appdata\.wt\s*=\s*["']([^"']+)["']/)[1],i=yield axios_1.default.get(`https://api.gofile.io/contents/${t}?wt=${a}`,{headers:{Authorization:`Bearer ${e}`}}),o=Object.keys(i.data.data.children)[0];return{link:i.data.data.children[o].link,token:e}}catch(t){return{link:"",token:""}}})}