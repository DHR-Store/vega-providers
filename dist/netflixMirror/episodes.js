"use strict";var __awaiter=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{p(i.next(e))}catch(e){r(e)}}function a(e){try{p(i.throw(e))}catch(e){r(e)}}function p(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}p((i=i.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=function(e){return __awaiter(this,arguments,void 0,function*({url:e,providerContext:t}){var n;const{getBaseUrl:i,axios:o}=t;try{const t=`${yield i("nfMirror")}/episodes.php?s=`+e+"&t="+Math.round((new Date).getTime()/1e3);let r=1,s=!0;const a=[];for(;s;){const e=(yield o.get(t+`&page=${r}`,{headers:{"Content-Type":"application/json","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/90.0.4430.93 Safari/537.36","Accept-Language":"en-US,en;q=0.9"}})).data;null===(n=null==e?void 0:e.episodes)||void 0===n||n.map(e=>{a.push({title:"Episode "+(null==e?void 0:e.ep.replace("E","")),link:null==e?void 0:e.id})}),(null==e?void 0:e.nextPageShow)?r++:s=!1}return a.sort((e,t)=>parseInt(e.title.replace("Episode ",""))-parseInt(t.title.replace("Episode ","")))}catch(e){return[]}})};exports.getEpisodes=getEpisodes;