"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function r(t){try{s(n.next(t))}catch(t){a(t)}}function l(t){try{s(n.throw(t))}catch(t){a(t)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,l)}s((n=n.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const getMeta=function(t){return __awaiter(this,arguments,void 0,function*({link:t,providerContext:e}){try{const i=t,n=(yield e.axios.get(i,{headers:e.commonHeaders})).data,o=e.cheerio.load(n),a=i.includes("tvshows")?"series":"movie",r="",l=i.split("/")[4].replace(/-/g," "),s=o(".g-item").find("a").attr("href")||"",c=o(".wp-content").text().trim(),d=o(".sgeneros").children().map((t,e)=>o(e).text()).get().slice(3),p=Number(o("#repimdb").find("strong").text()).toFixed(1).toString(),u=[];return o(".custom-links").find(".ep-button-container").map((t,e)=>{var i;const n=o(e).text().replace("⬇Download","").replace("⬇ Download","").trim(),a=o(e).find("a").attr("href");n&&a&&u.push({title:n,episodesLink:a,quality:(null===(i=null==n?void 0:n.match(/\d+P\b/))||void 0===i?void 0:i[0].replace("P","p"))||""})}),0===u.length&&o(".ep-button-container:not(:has(a:contains('Click Here To Visit')))").map((t,e)=>{var i;let n=o(e).find("a").text().replace("⬇Download","").replace("⬇ Download","").trim();n.includes("Download Now")&&(n=o(e).parent().find("h3").text().trim().replace("⬇Download","").replace("⬇ Download",""));const a=o(e).find("a").attr("href");n&&a&&u.push({title:n,episodesLink:a,quality:(null===(i=null==n?void 0:n.match(/\d+P\b/))||void 0===i?void 0:i[0].replace("P","p"))||""})}),{title:l,tags:d,rating:p,synopsis:c,image:s,imdbId:r,type:a,linkList:u}}catch(t){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}}})};exports.getMeta=getMeta;