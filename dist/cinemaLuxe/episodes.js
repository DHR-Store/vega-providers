"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEpisodes=void 0;const getEpisodes=async function({url:url,providerContext:providerContext}){try{const{axios:axios,cheerio:cheerio,commonHeaders:headers}=providerContext,res=await axios.get(url,{headers:{...headers,cookie:"..."}}),$=cheerio.load(res.data),episodes=[];return $("section[aria-label*='Download links for episodes']").find("h4").each((index,element)=>{const el=$(element),episodeTitle=el.text().trim().replace(/^-:|-:$/g,"").trim();el.next("p").find("a[href]").each((_,linkEl)=>{let link=$(linkEl).attr("href");episodeTitle&&link&&(link.startsWith("http")||(link=new URL(link,url).href),episodes.push({title:episodeTitle,link:link}))})}),0===episodes.length&&$(".entry-content,.entry-inner").find("h4").each((index,element)=>{const el=$(element),episodeTitle=el.text().replace(/-/g,"").replace(/:/g,"");el.next("p").find("a[href]").each((_,linkEl)=>{let link=$(linkEl).attr("href");episodeTitle&&link&&(link.startsWith("http")||(link=new URL(link,url).href),episodes.push({title:episodeTitle,link:link}))})}),episodes}catch(err){return[]}};exports.getEpisodes=getEpisodes;