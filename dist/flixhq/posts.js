"use strict";var __awaiter=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(r,s){function i(t){try{u(o.next(t))}catch(t){s(t)}}function a(t){try{u(o.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(i,a)}u((o=o.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSearchPosts=exports.getPosts=void 0;const getPosts=function(t){return __awaiter(this,arguments,void 0,function*({filter:t,signal:e,providerContext:n}){const{getBaseUrl:o}=n;return posts({url:`${(yield o("consumet"))+"/movies/flixhq"+t}`,signal:e,providerContext:n})})};exports.getPosts=getPosts;const getSearchPosts=function(t){return __awaiter(this,arguments,void 0,function*({searchQuery:t,page:e,signal:n,providerContext:o}){const{getBaseUrl:r}=o;return posts({url:`${(yield r("consumet"))+"/movies/flixhq"}/${t}?page=${e}`,signal:n,providerContext:o})})};function posts(t){return __awaiter(this,arguments,void 0,function*({url:t,signal:e,providerContext:n}){var o;try{const{axios:r}=n,s=yield r.get(t,{signal:e}),i=(null===(o=s.data)||void 0===o?void 0:o.results)||s.data,a=[];return null==i||i.map(t=>{const e=t.title,n=t.id,o=t.image;e&&n&&o&&a.push({title:e,link:n,image:o})}),a}catch(t){return[]}})}exports.getSearchPosts=getSearchPosts;