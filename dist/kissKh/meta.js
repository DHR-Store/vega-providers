"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,s){function l(t){try{a(n.next(t))}catch(t){s(t)}}function r(t){try{a(n.throw(t))}catch(t){s(t)}}function a(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(l,r)}a((n=n.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const getMeta=function(t){return __awaiter(this,arguments,void 0,function*({link:t,providerContext:e}){var i,n;try{const{axios:o}=e,s=(yield o.get(t)).data,l={title:s.title,synopsis:s.description,image:s.thumbnail,tags:[null===(i=null==s?void 0:s.releaseDate)||void 0===i?void 0:i.split("-")[0],null==s?void 0:s.status,null==s?void 0:s.type],imdbId:"",type:s.episodesCount>1?"series":"movie"},r=[],a=[];return null===(n=null==s?void 0:s.episodes)||void 0===n||n.reverse().map(t=>{var e;const i="Episode "+(null==t?void 0:t.number),n=null===(e=null==t?void 0:t.id)||void 0===e?void 0:e.toString();n&&i&&a.push({title:i,link:n})}),r.push({title:l.title,directLinks:a}),Object.assign(Object.assign({},l),{linkList:r})}catch(t){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}}})};exports.getMeta=getMeta;