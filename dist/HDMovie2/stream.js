"use strict";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):(value=result.value,value instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStream=void 0;const getStream=function(_a){return __awaiter(this,arguments,void 0,function*({link:link,providerContext:providerContext}){const{axios:axios,cheerio:cheerio}=providerContext,streams=[];try{const res=yield axios.get(link),$=cheerio.load(res.data),playerOptions=$("#playeroptionsul li");if(0===playerOptions.length){const iframeLink=$("iframe").attr("src");return iframeLink&&streams.push({link:iframeLink.startsWith("//")?"https:"+iframeLink:iframeLink,type:"embed",quality:"auto",server:"Main"}),streams}playerOptions.each((_,el)=>{const option=$(el),serverName=option.find(".title").text().trim()||"Server",postId=option.attr("data-post"),numeId=option.attr("data-nume");postId&&numeId&&"trailer"!==numeId&&streams.push({link:`https://hdmovie2.careers/wp-json/dooplayer/v2/${postId}/${numeId}`,type:"embed",quality:"auto",server:serverName})})}catch(err){}return streams})};exports.getStream=getStream;