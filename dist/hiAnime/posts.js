"use strict";var __awaiter=this&&this.__awaiter||function(t,e,s,n){return new(s||(s=Promise))(function(o,i){function r(t){try{u(n.next(t))}catch(t){i(t)}}function a(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof s?e:new s(function(t){t(e)})).then(r,a)}u((n=n.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getSearchPosts=exports.getPosts=void 0;const getPosts=function(t){return __awaiter(this,arguments,void 0,function*({filter:t,page:e,signal:s,providerContext:n}){const{getBaseUrl:o,axios:i}=n;return posts({url:`${(yield o("consumet"))+t}?page=${e}`,signal:s,axios:i})})};exports.getPosts=getPosts;const getSearchPosts=function(t){return __awaiter(this,arguments,void 0,function*({searchQuery:t,page:e,signal:s,providerContext:n}){const{getBaseUrl:o,axios:i}=n;return posts({url:`${yield o("consumet")}/anime/zoro/${t}?page=${e}`,signal:s,axios:i})})};function posts(t){return __awaiter(this,arguments,void 0,function*({url:t,signal:e,axios:s}){var n;try{const o=null===(n=(yield s.get(t,{signal:e})).data)||void 0===n?void 0:n.results,i=[];return null==o||o.map(t=>{const e=t.title,s=t.id,n=t.image;e&&s&&n&&i.push({title:e,link:s,image:n})}),i}catch(t){return[]}})}exports.getSearchPosts=getSearchPosts;