"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function r(t){try{d(n.next(t))}catch(t){a(t)}}function s(t){try{d(n.throw(t))}catch(t){a(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,s)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const getMeta=function(t){return __awaiter(this,arguments,void 0,function*({link:t,providerContext:e}){var i;try{const{axios:n,cheerio:o}=e,a=t,r=(yield n.get(a)).data,s=o.load(r),d=s(".yQ8hqd.ksSzJd.LoQAYe").html()?s(".yQ8hqd.ksSzJd.LoQAYe"):s(".FxvUNb"),c=(null===(i=d.find('a[href*="imdb.com/title/tt"]:not([href*="imdb.com/title/tt/"])').attr("href"))||void 0===i?void 0:i.split("/")[4])||"",l=d.find('li:contains("Name")').children().remove().end().text(),h=s(".yQ8hqd.ksSzJd.LoQAYe").html()?"series":"movie",p=d.find('li:contains("Stars")').text(),f=s('h4:contains("SCREENSHOTS")').next().find("img").attr("src")||"",u=[],v=[];return s(".entry-content").find('p:contains("Episode")').each((e,i)=>{const n=s(i).nextAll("h3,h2").first().find('a:contains("1080"),a:contains("720"),a:contains("480")').attr("href")||"",o=s(i).find("span").text();t.trim().length>0&&o.includes("Episode ")&&v.push({title:o,link:n})}),v.length>0&&u.push({quality:"",title:l,directLinks:v}),s(".entry-content").find("pre").nextUntil("div").filter("h2").each((t,e)=>{var i;const n=s(e).find("a").attr("href"),o=(null===(i=s(e).text().match(/\b(480p|720p|1080p|2160p)\b/i))||void 0===i?void 0:i[0])||"",a=s(e).text();n&&a.includes("")&&u.push({quality:o,title:a,episodesLink:n})}),0===u.length&&"movie"===h&&s(".entry-content").find('h2:contains("DOWNLOAD"),h3:contains("DOWNLOAD")').nextUntil("pre,div").filter("h2").each((t,e)=>{var i;const n=s(e).find("a").attr("href"),o=(null===(i=s(e).text().match(/\b(480p|720p|1080p|2160p)\b/i))||void 0===i?void 0:i[0])||"",a=s(e).text();n&&!a.includes("Online")&&u.push({quality:o,title:a,directLinks:[{link:n,title:a,type:"movie"}]})}),{title:l,synopsis:p,image:f,imdbId:c,type:h,linkList:u}}catch(t){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}}})};exports.getMeta=getMeta;