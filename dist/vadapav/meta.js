"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,r){function s(t){try{c(n.next(t))}catch(t){r(t)}}function a(t){try{c(n.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(s,a)}c((n=n.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const getMeta=function(t){return __awaiter(this,arguments,void 0,function*({link:t,providerContext:e}){var i,n;try{const{axios:o,cheerio:r}=e,s=null==t?void 0:t.split("/").slice(0,3).join("/"),a=t,c=(yield o.get(a)).data,l=r.load(c),d=(null===(n=null===(i=l(".directory").children().first().text().trim())||void 0===i?void 0:i.split("/").pop())||void 0===n?void 0:n.trim())||"",u=[];l('.directory-entry:not(:contains("Parent Directory"))').map((t,e)=>{const i=l(e).attr("href");i&&u.push({episodesLink:s+i,title:l(e).text()})});const p=[];return l('.file-entry:not(:contains("Parent Directory"))').map((t,e)=>{var i,n;const o=l(e).attr("href");o&&((null===(i=l(e).text())||void 0===i?void 0:i.includes(".mp4"))||(null===(n=l(e).text())||void 0===n?void 0:n.includes(".mkv")))&&p.push({title:t+1+". "+l(e).text(),link:s+o})}),p.length>0&&u.push({title:d+" DL",directLinks:p}),{title:d,synopsis:"",image:"",imdbId:"",type:"movie",linkList:u}}catch(t){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}}})};exports.getMeta=getMeta;