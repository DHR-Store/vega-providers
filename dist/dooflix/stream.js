"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStream=void 0;const getStream=async function({link:link,type:type,providerContext:providerContext}){try{const{axios:axios,cheerio:cheerio}=providerContext,res=await axios.get(link,{headers:{Referer:"https://ufilmywap.info","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36"}}),$=cheerio.load(res.data),streams=[];return $("a.button, a.button2, a.button4").each((_,el)=>{const hrefAttr=$(el).attr("href");if(!hrefAttr)return;let href=hrefAttr.trim(),text=$(el).text().trim()||"";[/direct download/i,/telegram/i,/gofile\.io/i,/resumable/i].some(pat=>pat.test(text)||pat.test(href))||(href.startsWith("http")||(href=new URL(href,link).href),streams.push({server:text,link:href,type:"mp4"}))}),streams}catch(err){return[]}};exports.getStream=getStream;