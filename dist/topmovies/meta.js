"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))(function(o,a){function r(t){try{d(n.next(t))}catch(t){a(t)}}function s(t){try{d(n.throw(t))}catch(t){a(t)}}function d(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(r,s)}d((n=n.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getMeta=void 0;const getMeta=function(t){return __awaiter(this,arguments,void 0,function*({link:t,providerContext:e}){var i;try{const{axios:n,cheerio:o}=e,a=t,r=(yield n.get(a)).data,s=o.load(r),d={title:s(".imdbwp__title").text(),synopsis:s(".imdbwp__teaser").text(),image:s(".imdbwp__thumb").find("img").attr("src")||"",imdbId:(null===(i=s(".imdbwp__link").attr("href"))||void 0===i?void 0:i.split("/")[4])||"",type:s(".thecontent").text().toLocaleLowerCase().includes("season")?"series":"movie"},l=[];return s("h3,h4").map((t,e)=>{var i;const n=s(e).text(),o=s(e).next("p").find(".maxbutton-episode-links,.maxbutton-g-drive,.maxbutton-af-download").attr("href"),a=s(e).next("p").find(".maxbutton-download-links").attr("href");(a||o&&"javascript:void(0);"!==o)&&l.push({title:n.replace("Download ","").trim()||"Download",episodesLink:o||"",directLinks:a?[{link:a,title:"Movie",type:"movie"}]:[],quality:(null===(i=null==n?void 0:n.match(/\d+p\b/))||void 0===i?void 0:i[0])||""})}),Object.assign(Object.assign({},d),{linkList:l})}catch(t){return{title:"",synopsis:"",image:"",imdbId:"",type:"movie",linkList:[]}}})};exports.getMeta=getMeta;